<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Full test</title>
        <meta charset="UTF-8">

        <style>
            body {
                font-family: sans-serif;
            }
        </style>
        <script src="../node_modules/d3/build/d3.js"></script>
        <script src="../dist/bvu.js"></script>
    </head>
    <body>
      <svg id="vis"></svg>
      <script>
        var svg = d3.select("svg").attr("width",950).attr("height",350);
        var quantization = bvu.quantization().branching(2).layers(4);
        var map = bvu.map().quantize(quantization).range(d3.interpolateViridis);
        var imap = bvu.map().range(d3.interpolateViridis);

        var sQuantization = bvu.squareQuantization().n(4);
        var smap = bvu.map().quantize(sQuantization).range(d3.interpolateViridis);

        var legendData = [];
        var temp = quantization.tree();
        for(var i = 0;i<temp.length;i++) {
          legendData[i] = temp[temp.length-i-1];
        }

        var iLegendData = [];
        temp = sQuantization.matrix();
        for(var i = 0;i<temp.length;i++) {
          iLegendData[i] = temp[temp.length-i-1];
        }

        var arcmap = bvu.arcmap().size(150).scale(imap).data(legendData);
        svg.append("g").call(arcmap);
        var heatmap = bvu.heatmap().size(150).scale(imap).data(legendData).x(150);
        svg.append("g").call(heatmap);
        
        var iarcmap = bvu.arcmap().size(150).scale(smap).data(iLegendData).x(325);
        svg.append("g").call(iarcmap);
        var iheatmap = bvu.heatmap().size(150).scale(smap).data(iLegendData).x(475);
        svg.append("g").call(iheatmap);

        var n = 10;
        var randomData = [];
        for(var i = 0;i<n;i++){
          randomData[i] = [];
          for(var j = 0;j<n;j++){
            randomData[i][j] = {u: Math.random(), v: Math.random()};
          }
        }

        var vsum = bvu.heatmap().size(150).scale(map).data(randomData).x(0).y(175);
        svg.append("g").call(vsum);
        var ssum = bvu.heatmap().size(150).scale(smap).data(randomData).x(175).y(175);
        svg.append("g").call(ssum);
        var isum = bvu.heatmap().size(150).scale(imap).data(randomData).x(350).y(175);
        svg.append("g").call(isum);

        var el = d3.select("body").append("div")
          .attr("style", "float:left");
  
        var square = bvu.csquare(150,d3.interpolateViridis);
        el.append("div").call(square);
        var arc = bvu.carc(150,d3.interpolateViridis);
        el.append("div").call(arc);

      </script>
    </body>
</html>
